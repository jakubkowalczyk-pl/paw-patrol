<!DOCTYPE html>
<html>
<head>
<title>Paw Patrol</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<style>
    body {
        margin: 0;
        background: #000;
    }

    @keyframes dog {
        from {
            transform: translateX(-100%);
        }
        to {
            transform: translateX(0);
        }
    }
</style>
<script>
function e(tagName, attrs, children) {
    const element = document.createElement(tagName);

    Object.assign(element.style, attrs.style);
    children && children.forEach(function (e) {
        element.appendChild(e);
    });
    for (const key in attrs) {
        if (key.startsWith('on')) {
            element.addEventListener(key.substring(2).toLowerCase(), attrs[key]);
        }
    }

    return element;
}

function Dog(props) {
    const element = e('div', {
        style: {
            width: '100vw   ',
            height: '100vh',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            float: 'left',
            overflow: 'hidden',
            animation: 'dog .3s',
        }
    }, [e('div', {
        style: {
            width: '200px',
            height: '200px',
            borderRadius: '100%',
            background: '#fff',
            transition: 'all .3s',
            overflow: 'hidden',
            alignItems: 'center',
            justifyContent: 'center',
            display: 'flex'
        },
        onClick: () => {
            if (!speechSynthesis || speechSynthesis.speaking) return;

            element.children[0].style.transform = 'rotate(15deg) scale(1.5)';
            element.children[0].style.boxShadow = '0 0 20px yellow';
            let utterance = new SpeechSynthesisUtterance(props.msg);
            utterance.addEventListener('end', () => {
                element.children[0].style.transform = '';
                element.children[0].style.boxShadow = '';
            });
            speechSynthesis.speak(utterance);
        },
    }, 
        [e('div', {
            style: {
                width: '50%',
                height: '140px',
                background: 'url(./i.jpg)',
                backgroundPosition: props.backgroundPosition,
            },
        })]
    )]);

    return element;
}

function Button(props = {}) {
    const element = e('div', {
        style :{
            width: '50px',
            height: '50px',
            top: '50%',
            transform: 'translateY(-50%)',
            border: '4px solid #fff',
            background: '#0000cc',
            borderRadius: '100%',
            position: 'fixed',
            zIndex: 1,
        },
        onClick: props.onClick,
    });
    
    Object.assign(element.style, props.style);

    return element;
}

function App() {
    let index = 0;

    function ButtonPrev() {
        return Button({ style: { left: '20px' }, onClick: () => {
            if (index > 0) {
                index--;
                container.removeChild(container.children[0]);
                container.insertAdjacentElement('afterbegin', dogs[index]);
            }
        } });
    }

    function ButtonNext() {
        return Button({ style: { right: '20px' }, onClick: () => {
            if (dogs[index+1]) {
                index++;
                container.removeChild(container.children[0]);
                container.insertAdjacentElement('afterbegin', dogs[index]);
            }
        } });
    }

    const dogs = [
        Dog({ backgroundPosition: '-20px -171px', msg: 'rabul spieszy z pomocą' }),
        Dog({ backgroundPosition: '-130px -171px', msg: 'psi patrol rusza do akcji' }),
        Dog({ backgroundPosition: '-246px -171px', msg: 'antek wzywa do bazy' }),
        Dog({ backgroundPosition: '-365px -171px', msg: 'lód czy śnieg, nie poddam się' }),
        Dog({ backgroundPosition: '-486px -175px', msg: 'działko wodne' }),
        Dog({ backgroundPosition: '-612px -171px', msg: 'oto pies który lata' }),
        Dog({ backgroundPosition: '-1109px -317px', msg: 'zielone znaczy leć' }),
        Dog({ backgroundPosition: '-606px -326px', msg: 'czejs się tym zajmie' }),
    ];

    const container = e('div', {
        style: {
            width: '100vw',
            height: '100vh',
            background: 'linear-gradient(135deg, #333, #000) #000',
        }
    }, [
        dogs[index],
        ButtonPrev(),
        ButtonNext(),
    ]);

    return container;
}

document.body.appendChild(App());
</script>
</body>
</html>